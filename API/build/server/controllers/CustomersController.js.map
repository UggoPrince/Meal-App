{"version":3,"sources":["../../../server/controllers/CustomersController.js"],"names":["CustomersController","req","res","customersService","login","body","cust","count","status","send","rows","register","errors","err"],"mappings":";;;;;;;AAEA;;AACA;;;;;;;;;;;;;;IAEMA,mB;;;;;;;;;;;;+CACcC,G,EAAKC,G;;;;;;;uBACFC,0BAAiBC,KAAjB,CAAuBH,GAAG,CAACI,IAA3B,C;;;AAAbC,gBAAAA,I;;AACN,oBAAIA,IAAI,CAACC,KAAL,KAAe,CAAnB,EAAsB;AACpBL,kBAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,CAAC,0DAAD,CAArB;AACD,iBAFD,MAEO;AACLP,kBAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,IAAI,CAACI,IAA1B;AACD;;;;;;;;;;;;;;;;;;;;;gDAGeT,G,EAAKC,G;;;;;;;uBACFC,0BAAiBQ,QAAjB,CAA0BV,GAAG,CAACI,IAA9B,C;;;AAAbC,gBAAAA,I;;AACN,oBAAIA,IAAI,CAACM,MAAT,EAAiB;AACTC,kBAAAA,GADS,GACH,yBAAgBP,IAAI,CAACM,MAArB,CADG;AAEfV,kBAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBI,GAArB;AACD,iBAHD,MAGO;AACLX,kBAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,IAArB;AACD;;;;;;;;;;;;;;;;;;;;;eAIU,IAAIN,mBAAJ,E","sourcesContent":["/* eslint-disable linebreak-style */\r\n/* eslint-disable class-methods-use-this */\r\nimport customersService from '../services/CustomersService';\r\nimport getErrorMessage from '../helpers/allHelpers';\r\n\r\nclass CustomersController {\r\n  async getCustomer(req, res) {\r\n    const cust = await customersService.login(req.body);\r\n    if (cust.count === 0) {\r\n      res.status(404).send(['Invalid Customer email and/or password. Simply Register.']);\r\n    } else {\r\n      res.status(200).send(cust.rows);\r\n    }\r\n  }\r\n\r\n  async addCustomer(req, res) {\r\n    const cust = await customersService.register(req.body);\r\n    if (cust.errors) {\r\n      const err = getErrorMessage(cust.errors);\r\n      res.status(404).send(err);\r\n    } else {\r\n      res.status(201).send(cust);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CustomersController();\r\n"],"file":"CustomersController.js"}