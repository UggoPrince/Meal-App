{"version":3,"sources":["../../../server/controllers/MealsController.js"],"names":["mealsService","MealsService","MealsController","req","res","status","send","getAll","body","name","size","price","currency","caterer","addedMeal","add","message","mealId","parseInt","params","id","mealName","mealPrice","mealExist","helpers","validID","true","canModifyMeal","error","modifiedMeal","modify","index","deletedMeal","delete"],"mappings":"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","sourcesContent":["/* eslint-disable linebreak-style */\r\n/* eslint-disable class-methods-use-this */\r\n/* eslint-disable no-console */\r\n\r\nimport MealsService from '../services/MealsService';\r\nimport helpers from '../helpers/allHelpers';\r\n\r\nconst mealsService = new MealsService();\r\n\r\nclass MealsController {\r\n  getMeals(req, res) {\r\n    res.status(200).send(mealsService.getAll());\r\n  }\r\n\r\n  addMeal(req, res) {\r\n    const {\r\n      name, size, price, currency, caterer,\r\n    } = req.body;\r\n\r\n    const addedMeal = mealsService.add(name, size, price, currency, caterer);\r\n    res.status(200).send({ message: 'success', body: addedMeal });\r\n  }\r\n\r\n  modifyMeal(req, res) {\r\n    const mealId = parseInt(req.params.id, 10);\r\n    const mealName = req.body.name;\r\n    const mealPrice = req.body.price;\r\n    const mealExist = mealsService.mealExist(mealId);\r\n\r\n    if (helpers.validID(mealId) && mealExist.true) {\r\n      if (!helpers.canModifyMeal(mealName, mealPrice)) {\r\n        res.status(200).send({\r\n          message: 'error',\r\n          error: 'No data for the name and/or price update of meal was submitted',\r\n        });\r\n      } else {\r\n        const modifiedMeal = mealsService.modify(mealExist.index, mealName, mealPrice);\r\n        res.status(200).send({ message: 'success', body: modifiedMeal });\r\n      }\r\n    } else {\r\n      res.status(200).send({ message: 'error', error: 'invalid ID' });\r\n    }\r\n  }\r\n\r\n  deleteMeal(req, res) {\r\n    const mealId = parseInt(req.params.id, 10);\r\n    const mealExist = mealsService.mealExist(mealId);\r\n\r\n    if (helpers.validID(mealId) && mealExist.true) {\r\n      const deletedMeal = mealsService.delete(mealExist.index);\r\n      res.status(200).send({ message: 'success', body: deletedMeal });\r\n    } else {\r\n      res.status(200).send({ message: 'error', error: 'invalid ID' });\r\n    }\r\n  }\r\n}\r\n\r\nexport default new MealsController();\r\n"],"file":"MealsController.js"}