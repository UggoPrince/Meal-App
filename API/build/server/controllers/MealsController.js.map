{"version":3,"sources":["../../../server/controllers/MealsController.js"],"names":["mealsService","MealsService","MealsController","req","res","status","send","getAll","body","name","size","price","currency","caterer","message","error","addedMeal","add","mealId","parseInt","params","id","mealName","mealPrice","mealExist","helpers","validID","true","canModifyMeal","modifiedMeal","modify","index","deletedMeal","delete"],"mappings":"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","sourcesContent":["/* eslint-disable linebreak-style */\r\n/* eslint-disable class-methods-use-this */\r\n/* eslint-disable no-console */\r\n\r\nimport MealsService from '../services/MealsService';\r\nimport helpers from '../helpers/allHelpers';\r\n\r\nconst mealsService = new MealsService();\r\n\r\nclass MealsController {\r\n  getMeals(req, res) {\r\n    res.status(200).send(mealsService.getAll());\r\n  }\r\n\r\n  addMeal(req, res) {\r\n    const {\r\n      name, size, price, currency, caterer,\r\n    } = req.body;\r\n    if (!name && !size && !price && !currency && !caterer) {\r\n      res.status(200).send({ message: 'error', error: 'No meal was sent.' });\r\n    } else if (!name) {\r\n      res.status(200).send({ message: 'error', error: 'No meal (name) was sent.' });\r\n    } else if (!size) {\r\n      res.status(200).send({ message: 'error', error: 'No meal (size) was sent.' });\r\n    } else if (!price) {\r\n      res.status(200).send({ message: 'error', error: 'No meal (price) was sent.' });\r\n    } else if (!currency) {\r\n      res.status(200).send({ message: 'error', error: 'No meal (currency) was sent.' });\r\n    } else if (!caterer) {\r\n      res.status(200).send({ message: 'error', error: 'No catererId (caterer) was sent.' });\r\n    } else {\r\n      const addedMeal = mealsService.add(name, size, price, currency, caterer);\r\n      res.status(200).send({ message: 'success', body: addedMeal });\r\n    }\r\n  }\r\n\r\n  modifyMeal(req, res) {\r\n    const mealId = parseInt(req.params.id, 10);\r\n    const mealName = req.body.name;\r\n    const mealPrice = req.body.price;\r\n    const mealExist = mealsService.mealExist(mealId);\r\n\r\n    if (helpers.validID(mealId) && mealExist.true) {\r\n      if (!helpers.canModifyMeal(mealName, mealPrice)) {\r\n        res.status(200).send({\r\n          message: 'error',\r\n          error: 'No data for the name and/or price update of meal was submitted',\r\n        });\r\n      } else {\r\n        const modifiedMeal = mealsService.modify(mealExist.index, mealName, mealPrice);\r\n        res.status(200).send({ message: 'success', body: modifiedMeal });\r\n      }\r\n    } else {\r\n      res.status(200).send({ message: 'error', error: 'invalid ID' });\r\n    }\r\n  }\r\n\r\n  deleteMeal(req, res) {\r\n    const mealId = parseInt(req.params.id, 10);\r\n    const mealExist = mealsService.mealExist(mealId);\r\n\r\n    if (helpers.validID(mealId) && mealExist.true) {\r\n      const deletedMeal = mealsService.delete(mealExist.index);\r\n      res.status(200).send({ message: 'success', body: deletedMeal });\r\n    } else {\r\n      res.status(200).send({ message: 'error', error: 'invalid ID' });\r\n    }\r\n  }\r\n}\r\n\r\nexport default new MealsController();\r\n"],"file":"MealsController.js"}