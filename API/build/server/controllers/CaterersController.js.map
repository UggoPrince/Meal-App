{"version":3,"sources":["../../../server/controllers/CaterersController.js"],"names":["CaterersController","req","res","caterersService","login","body","cust","count","status","send","rows","register","errors","err"],"mappings":";;;;;;;AAGA;;AACA;;;;;;;;;;;;;;IAEMA,kB;;;;;;;;;;;;+CACaC,G,EAAKC,G;;;;;;;uBACDC,yBAAgBC,KAAhB,CAAsBH,GAAG,CAACI,IAA1B,C;;;AAAbC,gBAAAA,I;;AACN,oBAAIA,IAAI,CAACC,KAAL,KAAe,CAAnB,EAAsB;AACpBL,kBAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,CAAC,yDAAD,CAArB;AACD,iBAFD,MAEO;AACLP,kBAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,IAAI,CAACI,IAA1B;AACD;;;;;;;;;;;;;;;;;;;;;gDAGcT,G,EAAKC,G;;;;;;;uBACDC,yBAAgBQ,QAAhB,CAAyBV,GAAG,CAACI,IAA7B,C;;;AAAbC,gBAAAA,I;;AACN,oBAAIA,IAAI,CAACM,MAAT,EAAiB;AACTC,kBAAAA,GADS,GACH,yBAAgBP,IAAI,CAACM,MAArB,CADG;AAEfV,kBAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBI,GAArB;AACD,iBAHD,MAGO;AACLX,kBAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,IAArB;AACD;;;;;;;;;;;;;;;;;;;;;eAIU,IAAIN,kBAAJ,E","sourcesContent":["/* eslint-disable linebreak-style */\r\n/* eslint-disable class-methods-use-this */\r\n\r\nimport caterersService from '../services/CaterersService';\r\nimport getErrorMessage from '../helpers/allHelpers';\r\n\r\nclass CaterersController {\r\n  async getCaterer(req, res) {\r\n    const cust = await caterersService.login(req.body);\r\n    if (cust.count === 0) {\r\n      res.status(404).send(['Invalid Caterer email and/or password. Simply Register.']);\r\n    } else {\r\n      res.status(200).send(cust.rows);\r\n    }\r\n  }\r\n\r\n  async addCaterer(req, res) {\r\n    const cust = await caterersService.register(req.body);\r\n    if (cust.errors) {\r\n      const err = getErrorMessage(cust.errors);\r\n      res.status(404).send(err);\r\n    } else {\r\n      res.status(201).send(cust);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CaterersController();\r\n"],"file":"CaterersController.js"}