{"version":3,"sources":["../../../server/controllers/MenuController.js"],"names":["menuService","MenuService","MenuController","req","res","body","mealId","catererId","mealNum","catID","parseInt","validMealId","helpers","menuOptionValid","message","status","send","error","validID","addedMenu","add","Date","now","menuExist","get"],"mappings":";;;;;;;AAIA;;AACA;;;;;;;;;;AAEA,IAAMA,WAAW,GAAG,IAAIC,oBAAJ,EAApB;;IAEMC,c;;;;;;;;;4BACIC,G,EAAKC,G,EAAK;AAAA,sBACcD,GAAG,CAACE,IADlB;AAAA,UACRC,MADQ,aACRA,MADQ;AAAA,UACAC,SADA,aACAA,SADA;;AAEhB,UAAID,MAAM,IAAIC,SAAd,EAAyB;AACvB,YAAMC,OAAO,GAAGF,MAAhB;AACA,YAAMG,KAAK,GAAGC,QAAQ,CAACH,SAAD,EAAY,EAAZ,CAAtB;;AAEA,YAAMI,WAAW,GAAGC,oBAAQC,eAAR,CAAwBL,OAAxB,CAApB;;AACA,YAAIG,WAAW,CAACG,OAAZ,KAAwB,OAA5B,EAAqC;AACnCV,UAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,YAAAA,OAAO,EAAE,OAAX;AAAoBG,YAAAA,KAAK,qBAAcN,WAAW,CAACM,KAA1B;AAAzB,WAArB;AACD,SAFD,MAEO,IAAI,CAACL,oBAAQM,OAAR,CAAgBT,KAAhB,CAAL,EAA6B;AAClCL,UAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,YAAAA,OAAO,EAAE,OAAX;AAAoBG,YAAAA,KAAK,wBAAiBV,SAAjB;AAAzB,WAArB;AACD,SAFM,MAEA;AACL,cAAMY,SAAS,GAAGnB,WAAW,CAACoB,GAAZ,CAAgBZ,OAAhB,EAAyBC,KAAzB,EAAgCY,IAAI,CAACC,GAAL,EAAhC,CAAlB;AACAlB,UAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,YAAAA,OAAO,EAAE,SAAX;AAAsBT,YAAAA,IAAI,EAAEc;AAA5B,WAArB;AACD;AACF,OAbD,MAaO,IAAI,CAACb,MAAD,IAAW,CAACC,SAAhB,EAA2B;AAChCH,QAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,UAAAA,OAAO,EAAE,OAAX;AAAoBG,UAAAA,KAAK,EAAE;AAA3B,SAArB;AACD,OAFM,MAEA,IAAI,CAACX,MAAL,EAAa;AAClBF,QAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,UAAAA,OAAO,EAAE,OAAX;AAAoBG,UAAAA,KAAK,EAAE;AAA3B,SAArB;AACD,OAFM,MAEA,IAAI,CAACV,SAAL,EAAgB;AACrBH,QAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,UAAAA,OAAO,EAAE,OAAX;AAAoBG,UAAAA,KAAK,EAAE;AAA3B,SAArB;AACD;AACF;;;4BAEOd,G,EAAKC,G,EAAK;AAChB,UAAMmB,SAAS,GAAGvB,WAAW,CAACuB,SAAZ,EAAlB;;AACA,UAAI,CAACA,SAAL,EAAgB;AACdnB,QAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,UAAAA,OAAO,EAAE,SAAX;AAAsBT,UAAAA,IAAI,EAAE;AAA5B,SAArB;AACD,OAFD,MAEO;AACLD,QAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEF,UAAAA,OAAO,EAAE,SAAX;AAAsBT,UAAAA,IAAI,EAAEL,WAAW,CAACwB,GAAZ;AAA5B,SAArB;AACD;AACF;;;;;;eAGY,IAAItB,cAAJ,E","sourcesContent":["/* eslint-disable linebreak-style */\r\n/* eslint-disable class-methods-use-this */\r\n/* eslint-disable no-console */\r\n\r\nimport MenuService from '../services/MenuService';\r\nimport helpers from '../helpers/allHelpers';\r\n\r\nconst menuService = new MenuService();\r\n\r\nclass MenuController {\r\n  addMenu(req, res) {\r\n    const { mealId, catererId } = req.body;\r\n    if (mealId && catererId) {\r\n      const mealNum = mealId;\r\n      const catID = parseInt(catererId, 10);\r\n\r\n      const validMealId = helpers.menuOptionValid(mealNum);\r\n      if (validMealId.message === 'error') {\r\n        res.status(200).send({ message: 'error', error: `meal id [${validMealId.error}] is not valid.` });\r\n      } else if (!helpers.validID(catID)) {\r\n        res.status(200).send({ message: 'error', error: `caterer id [${catererId}] is not valid.` });\r\n      } else {\r\n        const addedMenu = menuService.add(mealNum, catID, Date.now());\r\n        res.status(200).send({ message: 'success', body: addedMenu });\r\n      }\r\n    } else if (!mealId && !catererId) {\r\n      res.status(200).send({ message: 'error', error: 'No meal id(s) (mealId) and caterer id (catererId) was sent' });\r\n    } else if (!mealId) {\r\n      res.status(200).send({ message: 'error', error: 'No meal id(s) (mealId) was sent!' });\r\n    } else if (!catererId) {\r\n      res.status(200).send({ message: 'error', error: 'No caterer id (catererId) was sent!' });\r\n    }\r\n  }\r\n\r\n  getMenu(req, res) {\r\n    const menuExist = menuService.menuExist();\r\n    if (!menuExist) {\r\n      res.status(200).send({ message: 'success', body: 'No Menu. Set up a Menu now.' });\r\n    } else {\r\n      res.status(200).send({ message: 'success', body: menuService.get() });\r\n    }\r\n  }\r\n}\r\n\r\nexport default new MenuController();\r\n"],"file":"MenuController.js"}