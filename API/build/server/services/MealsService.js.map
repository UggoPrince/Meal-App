{"version":3,"sources":["../../../server/services/MealsService.js"],"names":["MealService","meals","mealData","map","data","meal","Meals","id","name","size","price","currency","caterer_id","getAllMeals","i","length","exist","index","max","j","catererId","biggestID","maxId","push","getMeal","deletedMeal","splice"],"mappings":"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","sourcesContent":["/* eslint-disable linebreak-style */\r\n/* eslint-disable no-console */\r\n\r\nimport Meals from '../models/Meals';\r\nimport mealData from '../database/mealsData';\r\n\r\nexport default class MealService {\r\n  constructor() {\r\n    this.meals = mealData;\r\n  }\r\n\r\n  getAllMeals() {\r\n    return this.meals.map((data) => {\r\n      const meal = new Meals();\r\n      meal.id = data.id;\r\n      meal.name = data.name;\r\n      meal.size = data.size;\r\n      meal.price = data.price;\r\n      meal.currency = data.currency;\r\n      meal.caterer_id = data.caterer_id;\r\n      return meal;\r\n    });\r\n  }\r\n\r\n  getAll() {\r\n    return this.getAllMeals();\r\n  }\r\n\r\n  getMeal(id) {\r\n    const meals = this.getAllMeals();\r\n    let meal = '';\r\n    for (let i = 0; i < meals.length; i += 1) {\r\n      if (meals[i].id === id) {\r\n        meal = meals[i];\r\n        break;\r\n      }\r\n    }\r\n    return meal;\r\n  }\r\n\r\n  mealExist(id) {\r\n    for (let i = 0; i < this.meals.length; i += 1) {\r\n      if (this.meals[i].id === id) return { exist: true, index: i };\r\n    }\r\n    return { exist: false, index: -1 };\r\n  }\r\n\r\n  maxId() {\r\n    let max = this.meals[0].id;\r\n    for (let j = 1; j < this.meals.length; j += 1) {\r\n      if (max < this.meals[j].id) max = this.meals[j].id;\r\n    }\r\n    return max;\r\n  }\r\n\r\n  add(name, size, price, currency, catererId) {\r\n    const biggestID = this.maxId();\r\n    const id = biggestID + 1;\r\n    const meal = {\r\n      id,\r\n      name,\r\n      size,\r\n      price,\r\n      currency,\r\n      caterer_id: catererId,\r\n    };\r\n    this.meals.push(meal);\r\n    return this.getMeal(id);\r\n  }\r\n\r\n  modify(index, name, price) {\r\n    const meal = this.meals[index];\r\n    if (name) meal.name = name;\r\n    if (price) meal.price = price;\r\n    this.meals[index] = meal;\r\n    return this.getMeal(meal.id);\r\n  }\r\n\r\n  delete(index) {\r\n    const deletedMeal = this.meals.splice(index, 1);\r\n    return deletedMeal[0];\r\n  }\r\n}\r\n"],"file":"MealsService.js"}